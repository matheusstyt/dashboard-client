{% extends 'based.html' %}

{% block title  %}DASHBOARD - PIPELINE{% endblock  %}


{% block content %}

<div class="modal-g" id="modal1">
    
    <div class="container-adicionar">
        <button class="btn-x" onclick=sair1()>X</button>
        <h2>Adicionar novo cliente da categoria A</h2>
        <form class="form-add-f" method="post">
            {% csrf_token %}
            {{ formPipelineA.as_p}}
            <div class="flex-btn">
                <input type="submit" class="btn btn-success text-center" value="Salvar">
            </div>
           
        </form>
    </div>
</div>
<div class="modal-g" id="modal2">
    
    <div class="container-adicionar">
        <button class="btn-x" onclick=sair1()>X</button>
        <h2>Adicionar novo cliente da categoria B</h2>
        <form class="form-add-f" method="post">
            {% csrf_token %}
            {{ formPipelineB.as_p}}
            <div class="flex-btn">
                <input type="submit" class="btn btn-success text-center" value="Salvar">
            </div>
           
        </form>
    </div>
</div>
<div class="modal-g" id="modal3">
    
    <div class="container-adicionar">
        <button class="btn-x" onclick=sair1()>X</button>
        <h2>Adicionar novo cliente da categoria C</h2>
        <form class="form-add-f" method="post">
            {% csrf_token %}
            {{ formPipelineC.as_p}}
            <div class="flex-btn">
                <input type="submit" class="btn btn-success text-center" value="Salvar">
            </div>
           
        </form>
    </div>
</div> 

<div class="container-g">

<div class="caixa-pipeline">
    <div class="container-f">  
        <div class="container-flex">
            <h3 id="h3_fd">Pipeline de Vendas - Novembro</h3>
            
            <div class="col-3 add-div text-center"  onclick=abrir1()>
                <i class="fas fa-plus"> </i> Adicionar 
            </div>
       
        
        </div>    
        {% if messages %}
            <ul class="messages">
                {%  for message in messages %}
                {% comment %} //tags sao infos {% endcomment %}
                    <li {% if message.tags %} class="alert alert-{{message.tags}}"{% endif %} >{{message}}</li>
                {% endfor %}
            </ul>
        {% endif %}    
    </div>
    
    <table class="pipeline-list">
        {% for item in lista %}
                <th>{{item}}</th> 
        {% endfor %}

        {% for item in dados %} 
            <tr class="pipeline-item">
                <td>{{item.Cliente}}</td>    
                <td>{{item.UF}}</td>   
                <td>{{item.Fase}}</td>   
                <td>{{item.Descricao}}</td>   
                <td>{{item.OMIE}}</td>   
                <td>{{item.NF_Emitidas}}</td>     
                <td>{{item.Qtd_Coletor}}</td>    
                <td>{{item.Data_envio_Proposta}}</td>   
                <td>{{item.RevisaoRecente}}</td>   
                <td>{{item.Data_doPC}}</td>   
                <td>{{item.Recorrencia}}</td>   
                <td>{{item.Perpetua}}</td> 
                <td>{{item.Hardware}}</td>   
                <td>{{item.Servicos}}</td>   
                <td>{{item.TotalPrevisto}}</td>   
                <td>{{item.FaturadoMesAtual}}</td>   
                <td>{{item.Entrega}}</td>     
                <td>{{item.Pagamento}}</td>   
                <td>{{item.Contato}}</td>   
                <td>{{item.OBS}}</td>            
            </tr>
        {% endfor %}
        
            

    </table>
    
</div>

    <style>
        .caixa-pipeline{
            box-shadow: 0px 9px 20px rgb(0 0 0 / 12%);
            width: auto;
            padding: 0;
            overflow-y:scroll; 
            overflow-x:scroll;
            position: relative;
        
        }   
        .list-div{
            padding: 0;
        }
        .pipeline-ul{
            display: flex;
            align-content: center;
            justify-content: space-around;
        }
        .pipeline-ul li{
            font-size: 0.9em;
        }
        .pipeline-list{
            padding-left: 0;
            width: max-content;
            text-align: center;
        }
        .pipeline-item{
            font-size: 0.9em;
            padding-top: 10px;
            border-bottom: 1px dashed #ccc;
            
            color: rgb(42, 42, 42);
            padding: 0.5em 2em;
            text-align: justify;
            border: 
        }
        .pipeline-item th{
            border-right: 1px solid #ccc;
            padding:1vmax
        }
        .pipeline-item td{
            border-right: 1px solid #ccc;
            padding:1vmax
        }
        .pipeline-item:hover{
            background-color: rgba(161, 161, 161, 0.2);
            transition: 0.5S ease;
        }
        .pipeline-item p{ 
            display: inline-block;
            padding: 0 1em;
        
        } 
    </style>
</div>

{% endblock  %}
